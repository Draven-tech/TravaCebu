<ion-menu class="light-menu" side="end" menuId="main-menu" contentId="main-content">
  <div class="custom-menu-title">Menu</div>
  <ion-content>
    <ion-list>
      <ion-item button (click)="openEditProfileModal()">
        <ion-icon name="create-outline" slot="start"></ion-icon>
        <ion-label>Edit Account</ion-label>
      </ion-item>
      
      <ion-item button (click)="logout()">
        <ion-icon name="log-out-outline" slot="start"></ion-icon>
        <ion-label>Logout</ion-label>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-menu>

<ion-content id="main-content" class="ion-padding user-profile-content">
<div class="profile-bubble">
  <ion-avatar (click)="presentAvatarOptions()">
    <img [src]="userData?.photoURL || 'assets/img/default.png'" />
  </ion-avatar>
  <div class="user-text">
    <h2>{{ userData?.fullName || 'John Doe' }}</h2>
    <p>@{{ userData?.username || 'username' }}</p>
    <p class="bio" *ngIf="userData?.bio; else noBio">{{ userData.bio }}</p>
    <ng-template #noBio>
      <p class="bio empty"></p>
    </ng-template>
  </div>
  <ion-buttons slot="end">
    <ion-menu-button menu="main-menu"></ion-menu-button>
  </ion-buttons>

  <!-- Hidden file input -->
  <input
    type="file"
    accept="image/*"
    (change)="onAvatarSelected($event)"
    hidden
    #avatarInput
  />
</div>


<div class="profile-tabs">
  <button [class.active]="activeTab === 'tab-1'" (click)="setActiveTab('tab-1')">Feed</button>
  <button [class.active]="activeTab === 'tab-2'" (click)="setActiveTab('tab-2')">Your Posts</button>
  <button [class.active]="activeTab === 'tab-3'" (click)="setActiveTab('tab-3')">Badges</button>
</div>


</ion-content>


<app-bottom-nav></app-bottom-nav>