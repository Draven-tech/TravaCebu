<ion-header>
      <ion-toolbar color="warning">
        <ion-title>{{ placeType === 'restaurant' ? 'Assign Restaurant' : 'Assign Hotel' }}</ion-title>
        <ion-buttons slot="end">
          <ion-button (click)="dismiss()">
            <ion-icon name="close"></ion-icon>
          </ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-header>

    <ion-content>
      <div class="assignment-container">
        <div class="place-info">
          <h3>{{ placeName }}</h3>
          <p>{{ placeType === 'restaurant' ? 'Choose which meal time to assign this restaurant to:' : 'Choose which day to assign this hotel to:' }}</p>
        </div>

        <!-- Restaurant Assignment Options -->
        <div *ngIf="placeType === 'restaurant'" class="assignment-options">
          <div *ngFor="let day of itinerary; let dayIndex = index" class="day-section">
            <h4>Day {{ day.day }}</h4>
            <div *ngFor="let spot of day.spots; let spotIndex = index" class="option-item">
              <div *ngIf="spot.mealType && !spot.chosenRestaurant" 
                   class="meal-option" 
                   (click)="assignRestaurant(dayIndex, spotIndex)">
                <div class="option-header">
                  <ion-icon name="restaurant-outline" color="warning"></ion-icon>
                  <span class="spot-name">{{ spot.name }}</span>
                </div>
                <div class="meal-info">
                  <span class="meal-type">{{ spot.mealType }} time</span>
                  <span class="time-slot">{{ spot.timeSlot }}</span>
                </div>
                <ion-icon name="chevron-forward" color="medium"></ion-icon>
              </div>
              
              <div *ngIf="spot.mealType && spot.chosenRestaurant" class="meal-option disabled">
                <div class="option-header">
                  <ion-icon name="restaurant" color="medium"></ion-icon>
                  <span class="spot-name">{{ spot.name }}</span>
                </div>
                <div class="meal-info">
                  <span class="meal-type">{{ spot.mealType }} time</span>
                  <span class="assigned-restaurant">{{ spot.chosenRestaurant.name }}</span>
                </div>
                <ion-icon name="checkmark-circle" color="success"></ion-icon>
              </div>
            </div>
          </div>
        </div>

        <!-- Hotel Assignment Options -->
        <div *ngIf="placeType === 'hotel'" class="assignment-options">
          <div *ngFor="let day of itinerary; let dayIndex = index" class="day-section">
            <div class="option-item">
              <div *ngIf="!day.chosenHotel" 
                   class="hotel-option" 
                   (click)="assignHotel(dayIndex)">
                <div class="option-header">
                  <ion-icon name="bed-outline" color="primary"></ion-icon>
                  <span class="day-name">Day {{ day.day }} - End of Day</span>
                </div>
                <div class="hotel-info">
                  <span class="spots-count">{{ day.spots.length }} tourist spots</span>
                </div>
                <ion-icon name="chevron-forward" color="medium"></ion-icon>
              </div>
              
              <div *ngIf="day.chosenHotel" class="hotel-option disabled">
                <div class="option-header">
                  <ion-icon name="bed" color="medium"></ion-icon>
                  <span class="day-name">Day {{ day.day }} - End of Day</span>
                </div>
                <div class="hotel-info">
                  <span class="assigned-hotel">{{ day.chosenHotel.name }}</span>
                </div>
                <ion-icon name="checkmark-circle" color="success"></ion-icon>
              </div>
            </div>
          </div>
        </div>

        <!-- No Available Options -->
        <div *ngIf="!hasAvailableOptions()" class="no-options">
          <ion-icon name="information-circle-outline" color="medium"></ion-icon>
          <h4>No Available {{ placeType === 'restaurant' ? 'Meal Times' : 'Days' }}</h4>
          <p>
            {{ placeType === 'restaurant' 
               ? 'All meal times in your itinerary already have restaurants assigned.' 
               : 'All days in your itinerary already have hotels assigned.' }}
          </p>
          <ion-button fill="outline" color="secondary" (click)="dismiss()">
            <ion-icon name="arrow-back"></ion-icon>
            Go Back
          </ion-button>
        </div>
      </div>
    </ion-content>