<ion-content [scrollEvents]="true" (ionScroll)="onScroll($event)">
  <img src="assets/img/car.png" class="bg-car" />

  <div class="content-layer" #registerContainer>
    <h1>CREATE ACCOUNT</h1>
    <p>Join TravaCebu to start planning your perfect Cebu adventure!</p>

    <form class="custom-form">
      <div class="form-group">
        <label class="floating-label" [class.filled]="fullName">
          <span>Full Name</span>
          <input 
            type="text" 
            [(ngModel)]="fullName" 
            name="fullName" 
            required 
            (focus)="onInputFocus($event)"
            (blur)="onInputBlur($event)"
            inputmode="text"
            autocomplete="name" />
        </label>
      </div>

      <div class="form-group">
        <label class="floating-label" [class.filled]="username">
          <span>Username</span>
          <input 
            type="text" 
            [(ngModel)]="username" 
            name="username" 
            required 
            (focus)="onInputFocus($event)"
            (blur)="onInputBlur($event)"
            inputmode="text"
            autocomplete="username" />
        </label>
      </div>

      <div class="form-group">
        <label class="floating-label" [class.filled]="email">
          <span>Email</span>
          <input 
            type="email" 
            [(ngModel)]="email" 
            name="email" 
            required 
            (focus)="onInputFocus($event)"
            (blur)="onInputBlur($event)"
            inputmode="email"
            autocomplete="email" />
        </label>
      </div>

      <div class="form-group">
        <label class="floating-label" [class.filled]="password">
          <span>Password</span>
          <div class="password-input-container">
            <input 
              [type]="showPassword ? 'text' : 'password'"
              [(ngModel)]="password" 
              name="password" 
              required 
              (focus)="onInputFocus($event)"
              (blur)="onInputBlur($event)"
              inputmode="text"
              autocomplete="new-password" />
            <button 
              type="button" 
              class="password-toggle-btn"
              (click)="togglePasswordVisibility()">
              <ion-icon [name]="showPassword ? 'eye-off' : 'eye'"></ion-icon>
            </button>
          </div>
        </label>
      </div>

      <div class="form-group">
        <label class="floating-label" [class.filled]="confirmPassword">
          <span>Confirm Password</span>
          <div class="password-input-container">
            <input 
              [type]="showConfirmPassword ? 'text' : 'password'"
              [(ngModel)]="confirmPassword" 
              name="confirmPassword" 
              required 
              (focus)="onInputFocus($event)"
              (blur)="onInputBlur($event)"
              inputmode="text"
              autocomplete="new-password" />
            <button 
              type="button" 
              class="password-toggle-btn"
              (click)="toggleConfirmPasswordVisibility()">
              <ion-icon [name]="showConfirmPassword ? 'eye-off' : 'eye'"></ion-icon>
            </button>
          </div>
        </label>
      </div>

      <div class="checkbox-wrapper">
        <ion-checkbox [(ngModel)]="agreed" name="agreed" required></ion-checkbox>
        <span>I agree with the <a routerLink="/terms">terms of service</a> and <a routerLink="/privacy">privacy policy</a></span>
      </div>
    </form>

    <div class="btn-container">
      <button type="button" class="btn-road" (click)="register()">
        <span class="btn-label">CREATE ACCOUNT</span>
      </button>

      <div class="login-link">
        Already have an account? <a routerLink="/login">Login here</a>
      </div>
    </div>
  </div>
</ion-content>